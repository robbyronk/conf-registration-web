"use strict";angular.module("confRegistrationWebApp",["ngResource","ui.bootstrap"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/admin-dashboard.html",controller:"MainCtrl"}).when("/wizard/:conferenceId",{templateUrl:"views/admin-wizard.html",controller:"AdminWizardCtrl",resolve:{conference:["$route","ConfCache",function(a,b){return b.get(a.current.params.conferenceId)}]}}).when("/register/:conferenceId/page/:pageId",{templateUrl:"views/registration.html",controller:"RegistrationCtrl",resolve:{conference:["$route","ConfCache",function(a,b){return b.get(a.current.params.conferenceId)}],currentRegistration:["$route","RegistrationCache",function(a,b){return b.getCurrent(a.current.params.conferenceId)}]}}).when("/adminData/:conferenceId",{templateUrl:"views/adminData.html",controller:"AdminDataCtrl",resolve:{registrations:["$route","RegistrationCache",function(a,b){return b.getAllForConference(a.current.params.conferenceId)}],conference:["$route","ConfCache",function(a,b){return b.get(a.current.params.conferenceId)}]}}).when("/register/:conferenceId",{resolve:{redirectToRegistration:["$route","ConfCache","$location",function(a,b,c){var d=a.current.params.conferenceId;b.get(d).then(function(a){var b=a.registrationPages&&a.registrationPages[0]&&a.registrationPages[0].id;c.replace().path("/register/"+d+"/page/"+b)})}]}}).when("/reviewRegistration/:conferenceId",{templateUrl:"views/reviewRegistration.html",controller:"ReviewRegistrationCtrl",resolve:{answers:["$route","RegistrationCache",function(a,b){return b.getCurrent(a.current.params.conferenceId).then(function(a){return a.answers})}],conference:["$route","ConfCache",function(a,b){return b.get(a.current.params.conferenceId)}]}}).when("/reviewRegistration/:conferenceId",{templateUrl:"views/reviewRegistration.html",controller:"ReviewRegistrationCtrl",resolve:{answers:["$route","Registrations","$q",function(a,b){return b.getCurrentOrCreate(a.current.params.conferenceId).then(function(a){return a.answers})}],conference:["$route","Conferences","$q",function(a,b,c){var d=c.defer();return b.get({id:a.current.params.conferenceId},function(a){d.resolve(a)}),d.promise}]}}).otherwise({redirectTo:"/"})}]).config(["$httpProvider",function(a){a.interceptors.push("currentRegistrationInterceptor"),a.interceptors.push("httpUrlInterceptor")}]),angular.module("confRegistrationWebApp").controller("MainCtrl",["$scope","ConfCache","$dialog",function(a,b,c){a.$on("conferences/",function(b,c){a.conferences=c}),b.query();var d={templateUrl:"views/createConference.html",controller:"CreateConferenceDialogCtrl"};a.createConference=function(){c.dialog(d).open()}}]);